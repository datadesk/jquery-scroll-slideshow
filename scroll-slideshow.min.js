(function(e){function t(){if(typeof window.innerWidth=="number"){return window.innerHeight}else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){return document.documentElement.clientHeight}}e.fn.scrollSlideshow=function(n){function p(){u.attr("src",a[h]);if(h<a.length-1){h++}}function d(){if(h!==0){h--}u.attr("src",a[h])}function v(){c=[];for(i=1;i<=a.length;i++){var e=(o.height()/2-l*2)/a.length*i;c.push(e)}}function m(){var e=o.offset().top,t=s.scrollTop(),n=t-e;if(n>=c[h]){p()}if(n<=c[h]){d()}}var r=e.extend({images:false,height:0},n);var s=e(window),o=this,u=e("<img src=''/>"),a=r.images,f=t(),l=(f-r.height)/2,c=[],h=0;o.append(u);u.attr("src",a[0]).css("position","absolute");o.css("position","relative");u.css({top:l+"px"});o.height(function(){return f*2+"px"});v();o.waypoint(function(e){if(e==="down"){s.on("scroll",m);s.on("touchmove",m);u.addClass("sticky").css({position:"fixed",top:l+"px"})}else if(e==="up"){s.off("scroll",m);s.off("touchmove",m);u.removeClass("sticky").css({position:"absolute",top:l+"px",bottom:""});u.attr("src",a[0]);h=0}}).waypoint(function(e){if(e==="up"){s.on("scroll",m);s.on("touchmove",m);u.addClass("sticky").css({position:"fixed",top:l+"px"})}else if(e==="down"){s.off("scroll",m);s.off("touchmove",m);u.removeClass("sticky").css({position:"absolute",top:"",bottom:l+"px"});u.attr("src",a[a.length-1]);h=a.length-1}},{offset:function(){return-(e(this).height()-s.height())}});s.resize(function(){f=t();o.height(function(){return f*2+"px"});l=(f-u.height())/2,u.css({top:l+"px"});v()})}})(jQuery);